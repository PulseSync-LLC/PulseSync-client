appId: pulsesync.app
productName: PulseSync
artifactName: pulsesync-app-${version}-${arch}.${ext}
copyright: 'Copyright (C) 2025 PulseSync LLC'

directories:
  output: release

files:
  - package.json

fileAssociations:
  - ext: pext
    name: PulseSync extension
    description: PulseSync extension
    role: Editor
    icon: ./icons/pext/pext.ico

win:
  requestedExecutionLevel: asInvoker
  icon: ./icons/win/icon.ico
  target: nsis
  fileAssociations:
    - ext: pext
      name: PulseSync extension
      description: PulseSync extension
      icon: ./icons/pext/pext.ico
  compression: maximum

mac:
  target:
    - dmg
  category: public.app-category.developer-tools
  icon: ./icons/mac/icon.icns
  protocols:
    - name: "PulseSync Deep Link"
      schemes: [ "pulsesync" ]

dmg:
  artifactName: pulsesync-app-${version}-${arch}.${ext}
  title: "${productName}-${version}-${arch}"
  format: UDZO
  contents:
    - { x: 130, y: 220 }
    - { x: 410, y: 220, type: link, path: /Applications }

linux:
  target:
    - AppImage
    - deb
  category: Development
  icon: ./icons/win/icon.png
  executableName: pulsesync
  description: PulseSync App with Yandex Music Mod
  mimeTypes:
    - application/x-pext
    - x-scheme-handler/pulsesync
  protocols:
    - name: "PulseSync Deep Link"
      schemes:
        - pulsesync
  desktop:
    entry:
      Name: PulseSync
      Comment: PulseSync App with Yandex Music Mod
      Icon: pulsesync
      Terminal: false
      Type: Application
      Categories: Utility;AudioVideo;Audio;
      MimeType: application/x-pext;x-scheme-handler/pulsesync;
