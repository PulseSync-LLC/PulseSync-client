appId: pulsesync.app
productName: PulseSync
artifactName: pulsesync-app-${version}-${arch}.${ext}
copyright: 'Copyright (C) 2025 PulseSync LLC'

directories:
    output: release

files:
    - package.json

fileAssociations:
    - ext: pext
      name: PulseSync extension
      description: PulseSync extension
      role: Editor
      icon: ./icons/pext/pext.ico

win:
    requestedExecutionLevel: asInvoker
    icon: ./icons/win/icon.ico
    target: nsis
    fileAssociations:
        - ext: pext
          name: PulseSync extension
          description: PulseSync extension
          icon: ./icons/pext/pext.ico
    compression: maximum

mac:
    target:
        - dmg
    category: public.app-category.developer-tools
    icon: ./icons/win/icon.icns
    protocols:
        - name: 'PulseSync Deep Link'
          schemes: ['pulsesync']

dmg:
    artifactName: pulsesync-app-${version}-${arch}.${ext}
    volumeName: '${productName}-${version}-${arch}'
    format: UDZO
    contents:
        - { x: 130, y: 220 }
        - { x: 410, y: 220, type: link, path: /Applications }

linux:
    category: DeveloperTools
    target:
        - AppImage
        - deb
    mimeTypes:
        - x-scheme-handler/pulsesync;

nsis:
    oneClick: false
    createDesktopShortcut: true
    createStartMenuShortcut: true
    perMachine: false
    allowElevation: false
    unicode: true
    language: 1251
    deleteAppDataOnUninstall: false
    packElevateHelper: true
    license: ./license_ru.txt
    allowToChangeInstallationDirectory: true
    include: scripts/installer.nsh
    useZip: false
